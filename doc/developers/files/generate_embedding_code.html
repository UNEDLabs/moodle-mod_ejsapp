<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta charset="utf-8"/>
    <title>API Documentation</title>
    <meta name="author" content=""/>
    <meta name="description" content=""/>

    <link href="../css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/prism.css" rel="stylesheet" media="all"/>
    <link href="../css/template.css" rel="stylesheet" media="all"/>
    
    <!--[if lt IE 9]>
    <script src="../js/html5.js"></script>
    <![endif]-->
    <script src="../js/jquery-1.11.0.min.js"></script>
    <script src="../js/ui/1.10.4/jquery-ui.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/jquery.smooth-scroll.js"></script>
    <script src="../js/prism.min.js"></script>
    <!-- TODO: Add http://jscrollpane.kelvinluck.com/ to style the scrollbars for browsers not using webkit-->
        <script type="text/javascript">
        function loadExternalCodeSnippets() {
            Array.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function (pre) {
                var src = pre.getAttribute('data-src');
                var extension = (src.match(/\.(\w+)$/) || [, ''])[1];
                var language = 'php';

                var code = document.createElement('code');
                code.className = 'language-' + language;

                pre.textContent = '';

                code.textContent = 'Loading…';

                pre.appendChild(code);

                var xhr = new XMLHttpRequest();

                xhr.open('GET', src, true);

                xhr.onreadystatechange = function () {
                    if (xhr.readyState == 4) {

                        if (xhr.status < 400 && xhr.responseText) {
                            code.textContent = xhr.responseText;

                            Prism.highlightElement(code);
                        }
                        else if (xhr.status >= 400) {
                            code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                        }
                        else {
                            code.textContent = '✖ Error: File does not exist or is empty';
                        }
                    }
                };

                xhr.send(null);
            });
        }

        $(document).ready(function(){
            loadExternalCodeSnippets();
        });
        $('#source-view').on('shown', function () {
            loadExternalCodeSnippets();
        })
    </script>

    <link rel="shortcut icon" href="../images/favicon.ico"/>
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
</head>
<body>

<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <i class="icon-ellipsis-vertical"></i>
            </a>
            <a class="brand" href="../index.html">API Documentation</a>

            <div class="nav-collapse">
                <ul class="nav pull-right">
                                        <li class="dropdown">
                        <a href="../index.html" class="dropdown-toggle" data-toggle="dropdown">
                            API Documentation <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                                                        <li><a href="../namespaces/mod_ejsapp.html">\mod_ejsapp</a></li>
                                                    </ul>
                    </li>
                                        <li class="dropdown" id="charts-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Charts <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../graphs/class.html">
                                    <i class="icon-list-alt"></i>&#160;Class hierarchy diagram
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown" id="reports-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Reports <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../reports/errors.html">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <i class="icon-list-alt"></i>&#160;Errors <span class="label label-info pull-right">108</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/markers.html">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <i class="icon-list-alt"></i>&#160;Markers <span class="label label-info pull-right">8</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/deprecated.html">
                                                                                                            <i class="icon-list-alt"></i>&#160;Deprecated <span class="label label-info pull-right">0</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!--<div class="go_to_top">-->
    <!--<a href="#___" style="color: inherit">Back to top&#160;&#160;<i class="icon-upload icon-white"></i></a>-->
    <!--</div>-->
</div>

<div id="___" class="container-fluid">
        <section class="row-fluid">
        <div class="span2 sidebar">
                                <div class="accordion" style="margin-bottom: 0">
        <div class="accordion-group">
            <div class="accordion-heading">
                                    <a class="accordion-toggle " data-toggle="collapse" data-target="#namespace-1811501672"></a>
                                <a href="../namespaces/default.html" style="margin-left: 30px; padding-left: 0">\</a>
            </div>
            <div id="namespace-1811501672" class="accordion-body collapse in">
                <div class="accordion-inner">

                                                    <div class="accordion" style="margin-bottom: 0">
        <div class="accordion-group">
            <div class="accordion-heading">
                                    <a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-178016788"></a>
                                <a href="../namespaces/mod_ejsapp.html" style="margin-left: 30px; padding-left: 0">mod_ejsapp</a>
            </div>
            <div id="namespace-178016788" class="accordion-body collapse ">
                <div class="accordion-inner">

                                                    <div class="accordion" style="margin-bottom: 0">
        <div class="accordion-group">
            <div class="accordion-heading">
                                    <a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-684729769"></a>
                                <a href="../namespaces/mod_ejsapp.event.html" style="margin-left: 30px; padding-left: 0">event</a>
            </div>
            <div id="namespace-684729769" class="accordion-body collapse ">
                <div class="accordion-inner">

                    
                    <ul>
                                                                                                    <li class="class"><a href="../classes/mod_ejsapp.event.course_module_book.html">course_module_book</a></li>
                                                    <li class="class"><a href="../classes/mod_ejsapp.event.course_module_booked.html">course_module_booked</a></li>
                                                    <li class="class"><a href="../classes/mod_ejsapp.event.course_module_collab.html">course_module_collab</a></li>
                                                    <li class="class"><a href="../classes/mod_ejsapp.event.course_module_inactive.html">course_module_inactive</a></li>
                                                    <li class="class"><a href="../classes/mod_ejsapp.event.course_module_instance_list_viewed.html">course_module_instance_list_viewed</a></li>
                                                    <li class="class"><a href="../classes/mod_ejsapp.event.course_module_viewed.html">course_module_viewed</a></li>
                                                    <li class="class"><a href="../classes/mod_ejsapp.event.course_module_wait.html">course_module_wait</a></li>
                                                    <li class="class"><a href="../classes/mod_ejsapp.event.course_module_working.html">course_module_working</a></li>
                                            </ul>
                </div>
            </div>
        </div>
    </div>

                    
                    <ul>
                                                                                                    <li class="class"><a href="../classes/mod_ejsapp.observers.html">observers</a></li>
                                            </ul>
                </div>
            </div>
        </div>
    </div>

                    
                    <ul>
                                                                                                    <li class="class"><a href="../classes/backup_ejsapp_activity_structure_step.html">backup_ejsapp_activity_structure_step</a></li>
                                                    <li class="class"><a href="../classes/backup_ejsapp_activity_task.html">backup_ejsapp_activity_task</a></li>
                                                    <li class="class"><a href="../classes/MCrypt.html">MCrypt</a></li>
                                                    <li class="class"><a href="../classes/mod_ejsapp_mod_form.html">mod_ejsapp_mod_form</a></li>
                                                    <li class="class"><a href="../classes/restore_ejsapp_activity_structure_step.html">restore_ejsapp_activity_structure_step</a></li>
                                                    <li class="class"><a href="../classes/restore_ejsapp_activity_task.html">restore_ejsapp_activity_task</a></li>
                                            </ul>
                </div>
            </div>
        </div>
    </div>

        </div>
    </section>
    <section class="row-fluid">
        <div class="span10 offset2">
            <div class="row-fluid">
                <div class="span8 content file">
                    <nav>
                                                                    </nav>

                    <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal"><i class="icon-code"></i></a>
                    <h1><small></small>generate_embedding_code.php</h1>
                    <p><em>This file generates the code that embeds the EJS application into Moodle.</em></p>
                    <p>It is used for three different cases: 1) when only the EJSApp activity is
being used, 2) when the EJSApp File Browser is used to load a state or rec
file, and 3) when the EJSApp Collab Session is used.</p>

                    
                    
                                    </div>

                <aside class="span4 detailsbar">
                    <dl>
                                                    <dt>Package</dt>
                            <dd><div class="namespace-wrapper">\mod\ejsapp</div></dd>
                        
                        
                    </dl>
                    <h2>Tags</h2>
                    <table class="table table-condensed">
                                                    <tr>
                                <th>
                                    copyright
                                </th>
                                <td>
                                                                            <p>2012 Luis de la Torre and Ruben Heradio</p>
                                                                    </td>
                            </tr>
                                                    <tr>
                                <th>
                                    license
                                </th>
                                <td>
                                                                            <p><a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</p>
                                                                    </td>
                            </tr>
                                            </table>

                </aside>
            </div>

            
                        <div class="row-fluid">
                <section class="span8 content file">
                    <h2>Functions</h2>
                </section>
                <aside class="span4 detailsbar"></aside>
            </div>

                                        <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_initial_data_file" name="method_initial_data_file" class="anchor"></a>
            <article class="method">
                <h3 class=" ">initial_data_file()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">initial_data_file(\stdCall  <span class="argument">$ejsapp</span>, string  <span class="argument">$data_type</span>) : \stdClass</pre>
                <p><em>If a state, controller or recording file has been configured in the ejsapp activity, this function returns the information of such file</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>\stdCall</td>
                                <td>$ejsapp </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>string</td>
                                <td>$data_type </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    \stdClass
                                            &mdash; <p>$initial_data_file</p>
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                    <dt>File</dt>
                    <dd><a href=""><div class="path-wrapper">generate_embedding_code.php</div></a></dd>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr>
                        <th>
                            package
                        </th>
                        <td>
                                                                                            <p>mod</p>
                                                                                            <p>mod</p>
                                                    </td>
                    </tr>
                            </table>
        </aside>
    </div>

                                        <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_get_data_file" name="method_get_data_file" class="anchor"></a>
            <article class="method">
                <h3 class=" ">get_data_file()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">get_data_file(string  <span class="argument">$user_data_file</span>, \stdClass  <span class="argument">$initial_data_file</span>) : \stdClass</pre>
                <p><em>Return either the initial or the user-saved data file (state, controller or interaction recording)</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>string</td>
                                <td>$user_data_file </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>\stdClass</td>
                                <td>$initial_data_file </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    \stdClass
                                            &mdash; <p>$data_file</p>
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                    <dt>File</dt>
                    <dd><a href=""><div class="path-wrapper">generate_embedding_code.php</div></a></dd>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr>
                        <th>
                            package
                        </th>
                        <td>
                                                                                            <p>mod</p>
                                                                                            <p>mod</p>
                                                    </td>
                    </tr>
                            </table>
        </aside>
    </div>

                                        <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_generate_embedding_code" name="method_generate_embedding_code" class="anchor"></a>
            <article class="method">
                <h3 class=" ">generate_embedding_code()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">generate_embedding_code(\stdClass  <span class="argument">$ejsapp</span>, \stdClass|null  <span class="argument">$sarlabinfo</span>, array|null  <span class="argument">$user_data_files</span>, \stdClass|null  <span class="argument">$collabinfo</span>, \stdClass|null  <span class="argument">$personalvarsinfo</span>, \stdClass|null  <span class="argument">$external_size</span>) : string</pre>
                <p><em>Returns the code that embeds an EJS applet into Moodle</em></p>
                <p>This function returns the HTML and JavaScript code that embeds an EJS applet into Moodle
It is used for four different cases:
1) when only the EJSApp activity is being used
2) when the EJSApp File Browser is used to load a state file
3) when the EJSApp Collab Session is used
4) when third party plugins want to display EJS applets in their own activities by means of the EJSApp external interface</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>\stdClass</td>
                                <td>$ejsapp </td>
                                <td><p>record from table ejsapp</p></td>
                            </tr>
                                                    <tr>
                                <td>\stdClass|null</td>
                                <td>$sarlabinfo </td>
                                <td><p>$sarlabinfo-&gt;instance: int sarlab id,
$sarlabinfo-&gt;practice: int practice id,
$sarlabinfo-&gt;collab:   int collab whether sarlab offers collab access to this remote lab (1) or not (0),
$sarlabinfo-&gt;labmanager: int laboratory manager (1) or student (0)
$sarlabinfo-&gt;max_use_time: int maximum time the remote lab can be connected (in seconds)
Null if sarlab is not used</p></td>
                            </tr>
                                                    <tr>
                                <td>array|null</td>
                                <td>$user_data_files </td>
                                <td><p>$user_data_files[0]: user_state_file, if generate_embedding_code is called from block ejsapp_file_browser, this is the name of the .xml or .json file that stores the state of an EJS applet, elsewhere it is null
$user_data_files[1]: user_cnt_file, if generate_embedding_code is called from block ejsapp_file_browser, this is the name of the .cnt file that stores the code of the controller used within an EJS applet, elsewhere it is null
$user_data_files[2]: user_rec_file, if generate_embedding_code is called from block ejsapp_file_browser, this is the name of the .rec file that stores the script with the recording of the interaction with an EJS applet, elsewhere it is null</p></td>
                            </tr>
                                                    <tr>
                                <td>\stdClass|null</td>
                                <td>$collabinfo </td>
                                <td><p>$collabinfo-&gt;session: int collaborative session id,
$collabinfo-&gt;ip: string collaborative session ip,
$collabinfo-&gt;localport: int collaborative session local port,
$collabinfo-&gt;sarlabport: int|null sarlab port,
$collabinfo-&gt;director: int|null id of the collaborative session master user, `
Null if generate_embedding_code is not called from block ejsapp_collab_session</p></td>
                            </tr>
                                                    <tr>
                                <td>\stdClass|null</td>
                                <td>$personalvarsinfo </td>
                                <td><p>$personalvarsinfo-&gt;name: string[] name(s) of the EJS variable(s),
$personalvarsinfo-&gt;value: double[] value(s) of the EJS variable(s),
$personalvarsinfo-&gt;type: string[] type(s) of the EJS variable(s),
Null if no personal variables were defined for this EJSApp</p></td>
                            </tr>
                                                    <tr>
                                <td>\stdClass|null</td>
                                <td>$external_size </td>
                                <td><p>$external_size-&gt;width: int value (in pixels) for the width of the applet to be drawn
$external_size-&gt;height: int value (in pixels) for the height of the applet to be drawn
Null if generate_embedding_code is not called from the external interface (draw_ejsapp_instance() function)</p></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    string
                                            &mdash; <p>code that embeds an EJS applet into Moodle</p>
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                    <dt>File</dt>
                    <dd><a href=""><div class="path-wrapper">generate_embedding_code.php</div></a></dd>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr>
                        <th>
                            package
                        </th>
                        <td>
                                                                                            <p>mod</p>
                                                                                            <p>mod</p>
                                                    </td>
                    </tr>
                            </table>
        </aside>
    </div>

                            
        </div>
    </section>

    <div id="source-view" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="source-view-label" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="source-view-label"></h3>
        </div>
        <div class="modal-body">
            <pre data-src="../files/generate_embedding_code.php.txt" class="language-php line-numbers"></pre>
        </div>
    </div>

    <footer class="row-fluid">
        <section class="span10 offset2">
            <section class="row-fluid">
                <section class="span10 offset1">
                    <section class="row-fluid footer-sections">
                        <section class="span4">
                                                        <h1><i class="icon-code"></i></h1>
                            <div>
                                <ul>
                                                                            <li><a href="../namespaces/mod_ejsapp.html">\mod_ejsapp</a></li>
                                                                    </ul>
                            </div>
                        </section>
                        <section class="span4">
                                                        <h1><i class="icon-bar-chart"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../graphs/class.html">Class Hierarchy Diagram</a></li>
                                </ul>
                            </div>
                        </section>
                        <section class="span4">
                                                        <h1><i class="icon-pushpin"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../reports/errors.html">Errors</a></li>
                                    <li><a href="../reports/markers.html">Markers</a></li>
                                </ul>
                            </div>
                        </section>
                    </section>
                </section>
            </section>
            <section class="row-fluid">
                <section class="span10 offset1">
                    <hr />
                    Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor </a> and authored
                    on June 14th, 2015 at 05:20.
                </section>
            </section>
        </section>
    </footer>
</div>

</body>
</html>
