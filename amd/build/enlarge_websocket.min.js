define ("mod_ejsapp/enlarge_websocket",["jquery"],function(){return{enlargeWebSocket:function enlargeWebSocket(a,b,c,d,e,f,g,h){var i=new WebSocket("ws://127.0.0.1:8887");i.connectExperience=function(a,b,c,d,e,f,g,h){var j="{\"command\":\""+a+"\",\"ip_server\":\""+b+"\",\"port_server\":\""+c+"\",\"id_exp\":\""+d+"\",\"expiration_time\":\""+e+"\",\"user\":\""+f+"\",\"password\":\""+g+"\"";if("execjar"===a){j+=",\"jar_file\":\""+h+"\""}j+="}";i.send(j)};i.onopen=function(){i.send("Message to send \r\n");i.connectExperience(a,b,c,d,e,f,g,h);console.log("Connected to ENLARGE experience: "+d)};i.onmessage=function(a){console.log("Message from myFrontier server: "+a.data)};i.onerror=function(){if(1===i.readyState||2===i.readyState){i.send("exit")}alert("You need to download, install and/or run the ENLARGE service.");var b=document.createElement("a");b.download="myDiscovery_win64.exe";b.href="https://irs.nebsyst.com/assets/install_myDiscovery_win64.exe";b.target="_blank";document.body.appendChild(b);b.click();document.body.removeChild(b)};i.onclose=function(){console.log("Connection has been closed.")};i.resetExperience=function(){i.send("{\"command\":\"reset\"}")};i.stopExperience=function(){i.send("{\"command\":\"exit\"}")};window.onbeforeunload=function(){i.resetExperience();i.stopExperience()}}}});
//# sourceMappingURL=enlarge_websocket.min.js.map
