define(["jquery"],function(){const a={enlargeWebSocket:function(a,b,c,d,e,f,g,h){const i=new WebSocket("ws://127.0.0.1:8887");i.connectExperience=function(a,b,c,d,e,f,g,h){var j='{"command":"'+a+'","ip_server":"'+b+'","port_server":"'+c+'","id_exp":"'+d+'","expiration_time":"'+e+'","user":"'+f+'","password":"'+g+'"';"execjar"===a&&(j+=',"jar_file":"'+h+'"'),j+="}",i.send(j)},i.onopen=function(){i.send("Message to send \r\n"),i.connectExperience(a,b,c,d,e,f,g,h),console.log("Connected to ENLARGE experience: "+d)},i.onmessage=function(a){console.log("Message from myFrontier server: "+a.data)},i.onerror=function(){1!==i.readyState&&2!==i.readyState||i.send("exit"),alert("You need to download, install and/or run the ENLARGE service.");var a=document.createElement("a");a.download="myDiscovery_win64.exe",a.href="https://irs.nebsyst.com/assets/install_myDiscovery_win64.exe",a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)},i.onclose=function(){console.log("Connection has been closed.")},i.resetExperience=function(){i.send('{"command":"reset"}')},i.stopExperience=function(){i.send('{"command":"exit"}')},window.onbeforeunload=function(){i.resetExperience(),i.stopExperience()}}};return a});